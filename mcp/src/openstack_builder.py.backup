import openstack
import sys

from connection import OpenstackConnection

class OpenstackBuilder:

    def __init__(self, url, app_creds:str, app_secret:str, domain_name:str, log_path="/home/igorkso/openstack-mcpserver.log"):
        open_connection = OpenstackConnection(url, app_creds, app_secret, domain_name) 
        self.connection = open_connection.get_conn()

        openstack.enable_logging(
              debug=True, path=log_path, stream=sys.stdout
              )

    def list_servers(self):
        srv = self.connection.compute.servers()
        return srv 


    def list_images(self):
        return self.connection.compute.images()


    def list_flavors(self):
        return self.connection.compute.flavors()




